<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chord Master - Simple Version</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
  <div class="max-w-4xl mx-auto">
    <header class="bg-white rounded-2xl shadow-lg p-6 mb-6 text-center">
      <h1 class="text-3xl font-bold text-gray-800 flex items-center justify-center">
        <i class="fas fa-guitar mr-3 text-purple-500"></i>
        Chord Master
      </h1>
      <p class="text-gray-600 mt-2">Your interactive chord learning companion</p>
    </header>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Chord Progression Builder</h2>
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Select Key</label>
          <select id="key-selector" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="updateChordButtons()">
            <option value="C">C Major</option>
            <option value="G">G Major</option>
            <option value="D">D Major</option>
            <option value="A">A Major</option>
            <option value="E">E Major</option>
          </select>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Available Chords</label>
          <div id="chord-buttons" class="flex flex-wrap gap-2 mb-4">
            <!-- Chord buttons will be populated by JavaScript -->
          </div>
        </div>
        
        <div>
          <div class="flex justify-between items-center mb-2">
            <label class="block text-sm font-medium text-gray-700">Your Progression</label>
            <button onclick="clearProgression()" class="text-sm text-red-500 hover:text-red-700">
              <i class="fas fa-trash mr-1"></i> Clear All
            </button>
          </div>
          <div id="progression-display" class="min-h-16 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 flex flex-wrap gap-2">
            <div class="text-gray-500">Add chords to build your progression</div>
          </div>
        </div>
      </div>
      
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Practice Mode</h2>
        <div class="text-center mb-6">
          <div class="text-5xl font-bold text-indigo-600 mb-4" id="current-chord">C</div>
          <p class="text-gray-600 mb-4">Practice this chord</p>
          <button onclick="nextChord()" class="px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors">
            Next Chord <i class="fas fa-arrow-right ml-2"></i>
          </button>
        </div>
        
        <div class="bg-blue-50 rounded-xl p-4 mb-4">
          <h3 class="font-bold text-blue-800 mb-2">Practice Tips</h3>
          <ul class="text-sm text-blue-700 list-disc pl-5 space-y-1">
            <li>Place your fingers just behind the fret</li>
            <li>Keep your thumb positioned behind the neck</li>
            <li>Practice transitioning between chords</li>
          </ul>
        </div>
        
        <div class="flex justify-between items-center mb-4">
          <button onclick="playChord()" class="px-4 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600">
            <i class="fas fa-play mr-2"></i> Play Chord
          </button>
          <button onclick="toggleMetronome()" id="metronome-btn" class="px-4 py-2 bg-indigo-500 text-white rounded-lg font-medium hover:bg-indigo-600">
            <i class="fas fa-clock mr-2"></i> Start Metronome
          </button>
        </div>
        
        <div class="bg-gray-50 rounded-xl p-4">
          <div class="flex justify-between items-center mb-2">
            <label class="block text-sm font-medium text-gray-700">Tempo</label>
            <span id="bpm-value" class="text-sm font-medium text-gray-700">100</span>
          </div>
          <input type="range" id="bpm" min="40" max="200" value="100" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
          <div class="flex justify-between text-xs text-gray-500 mt-1">
            <span>40</span>
            <span>200</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="bg-white rounded-2xl shadow-lg p-6">
      <h2 class="text-2xl font-bold text-gray-800 mb-4">Learning Path</h2>
      <div class="mb-4">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-lg font-bold text-gray-800">Beginner Path</h3>
          <span class="text-sm font-medium text-green-600">4/10 lessons</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4">
          <div class="bg-green-600 h-2.5 rounded-full" style="width: 40%"></div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div class="flex items-center p-3 bg-green-50 rounded-lg border border-green-200">
            <i class="fas fa-check-circle text-green-500 mr-3"></i>
            <div>
              <div class="font-medium text-gray-800">Introduction to Chords</div>
              <div class="text-sm text-gray-600">Completed</div>
            </div>
          </div>
          
          <div class="flex items-center p-3 bg-green-50 rounded-lg border border-green-200">
            <i class="fas fa-check-circle text-green-500 mr-3"></i>
            <div>
              <div class="font-medium text-gray-800">Basic Open Chords</div>
              <div class="text-sm text-gray-600">Completed</div>
            </div>
          </div>
          
          <div class="flex items-center p-3 bg-blue-50 rounded-lg border border-blue-200">
            <i class="fas fa-play-circle text-blue-500 mr-3"></i>
            <div>
              <div class="font-medium text-gray-800">Chord Transitions</div>
              <div class="text-sm text-gray-600">In Progress</div>
            </div>
          </div>
          
          <div class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200">
            <i class="far fa-circle text-gray-400 mr-3"></i>
            <div>
              <div class="font-medium text-gray-800">Strumming Patterns</div>
              <div class="text-sm text-gray-600">Not Started</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center">
        <button class="px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors">
          Continue Learning <i class="fas fa-arrow-right ml-2"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    // State management
    let currentChord = 'C';
    let isMetronomePlaying = false;
    let metronomeInterval = null;
    
    // Chord data
    const keys = {
      'C': ['C', 'Dm', 'Em', 'F', 'G', 'Am', 'Bdim'],
      'G': ['G', 'Am', 'Bm', 'C', 'D', 'Em', 'F#dim'],
      'D': ['D', 'Em', 'F#m', 'G', 'A', 'Bm', 'C#dim'],
      'A': ['A', 'Bm', 'C#m', 'D', 'E', 'F#m', 'G#dim'],
      'E': ['E', 'F#m', 'G#m', 'A', 'B', 'C#m', 'D#dim']
    };
    
    // Initialize the app
    document.addEventListener('DOMContentLoaded', function() {
      // Populate chord buttons for progression builder
      updateChordButtons();
      
      // Add event listener to BPM input
      document.getElementById('bpm').addEventListener('input', updateBPM);
    });
    
    // Chord progression builder functions
    function updateChordButtons() {
      const keySelector = document.getElementById('key-selector');
      const chordButtons = document.getElementById('chord-buttons');
      const selectedKey = keySelector.value;
      
      chordButtons.innerHTML = '';
      
      keys[selectedKey].forEach(chord => {
        const button = document.createElement('button');
        button.className = 'px-4 py-2 bg-indigo-100 text-indigo-800 rounded-lg font-medium hover:bg-indigo-200 transition-colors';
        button.textContent = chord;
        button.onclick = () => addChordToProgression(chord);
        chordButtons.appendChild(button);
      });
    }
    
    function addChordToProgression(chord) {
      const progressionDisplay = document.getElementById('progression-display');
      
      // Remove placeholder text if it's the first chord
      if (progressionDisplay.querySelector('.text-gray-500')) {
        progressionDisplay.innerHTML = '';
      }
      
      const chordElement = document.createElement('div');
      chordElement.className = 'px-4 py-2 bg-indigo-500 text-white rounded-lg font-bold flex items-center';
      chordElement.innerHTML = `
        ${chord}
        <button onclick="this.parentElement.remove()" class="ml-2 text-indigo-200 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      `;
      
      progressionDisplay.appendChild(chordElement);
    }
    
    function clearProgression() {
      const progressionDisplay = document.getElementById('progression-display');
      progressionDisplay.innerHTML = '<div class="text-gray-500">Add chords to build your progression</div>';
    }
    
    // Practice mode functions
    function nextChord() {
      const chords = ['C', 'G', 'Am', 'F', 'D', 'Em', 'Bm'];
      const randomIndex = Math.floor(Math.random() * chords.length);
      currentChord = chords[randomIndex];
      document.getElementById('current-chord').textContent = currentChord;
    }
    
    function playChord() {
      // In a real app, this would play the actual chord sound
      // For this demo, we'll just show an alert
      alert(`Playing ${currentChord} chord!`);
    }
    
    // Update BPM display
    function updateBPM() {
      const bpmInput = document.getElementById('bpm');
      const bpmValue = document.getElementById('bpm-value');
      bpmValue.textContent = bpmInput.value;
      
      // Restart metronome if it's currently playing
      if (isMetronomePlaying) {
        toggleMetronome();
        toggleMetronome();
      }
    }
    
    function toggleMetronome() {
      const btn = document.getElementById('metronome-btn');
      
      if (isMetronomePlaying) {
        // Stop metronome
        clearInterval(metronomeInterval);
        metronomeInterval = null;
        isMetronomePlaying = false;
        btn.innerHTML = '<i class="fas fa-clock mr-2"></i> Start Metronome';
        btn.className = 'px-4 py-2 bg-indigo-500 text-white rounded-lg font-medium hover:bg-indigo-600';
      } else {
        // Start metronome
        isMetronomePlaying = true;
        btn.innerHTML = '<i class="fas fa-stop mr-2"></i> Stop Metronome';
        btn.className = 'px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600';
        
        // Create Web Audio API context for metronome sounds
        let audioContext = null;
        
        // Function to play metronome click
        function playClick(isAccent) {
          if (!audioContext) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
          }
          
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          // Higher pitch for accent (beat 1), lower for other beats
          oscillator.frequency.value = isAccent ? 880 : 440; // A5 for accent, A4 for regular
          gainNode.gain.value = 0.1;
          
          oscillator.start();
          
          // Create a short click sound
          gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.05);
          oscillator.stop(audioContext.currentTime + 0.05);
        }
        
        // Get BPM input and calculate interval
        const bpmInput = document.getElementById('bpm');
        let beatCount = 0;
        
        // Function to start metronome with correct interval
        function startMetronome() {
          const bpm = parseInt(bpmInput.value) || 100;
          const interval = 60000 / bpm;
          
          metronomeInterval = setInterval(() => {
            // Reset beat count every 4 beats
            if (beatCount >= 4) {
              beatCount = 0;
            }
            
            // Play accent on beat 1
            playClick(beatCount === 0);
            beatCount++;
          }, interval);
        }
        
        // Start metronome
        startMetronome();
      }
    }
  </script>
</body>
</html>
